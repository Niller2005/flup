import{S as W,i as F,s as K,k,a as M,l as v,m as I,h as m,c as L,n as p,b as E,K as w,U as C,C as N,L as D,V as R,e as U,q as H,r as O,u as z,T as G,W as T}from"../chunks/index.e9f39a1b.js";function q(i,e,l){const t=i.slice();return t[12]=e[l],t}function P(i,e,l){const t=i.slice();return t[15]=e[l],t}function S(i){let e,l,t,s,r=i[4](i[12].input)+"",c,o,g;function f(d,h){return d[12].output.length===1?Q:J}let _=f(i),b=_(i);return{c(){e=k("a"),b.c(),l=M(),t=k("div"),s=k("p"),c=H(r),o=M(),this.h()},l(d){e=v(d,"A",{href:!0,class:!0});var h=I(e);b.l(h),l=L(h),t=v(h,"DIV",{class:!0});var n=I(t);s=v(n,"P",{class:!0});var a=I(s);c=O(a,r),a.forEach(m),n.forEach(m),o=L(h),h.forEach(m),this.h()},h(){p(s,"class","text-lg"),p(t,"class","card-body"),p(e,"href",g=`/imagegen/${i[12].id}`),p(e,"class","card bg-neutral shadow-xl text-neutral-content")},m(d,h){E(d,e,h),b.m(e,null),w(e,l),w(e,t),w(t,s),w(s,c),w(e,o)},p(d,h){_===(_=f(d))&&b?b.p(d,h):(b.d(1),b=_(d),b&&(b.c(),b.m(e,l))),h&2&&r!==(r=d[4](d[12].input)+"")&&z(c,r),h&2&&g!==(g=`/imagegen/${d[12].id}`)&&p(e,"href",g)},d(d){d&&m(e),b.d()}}}function J(i){let e,l=i[12].output,t=[];for(let r=0;r<l.length;r+=1)t[r]=V(P(i,l,r));function s(...r){return i[9](i[12],...r)}return{c(){e=k("figure");for(let r=0;r<t.length;r+=1)t[r].c();this.h()},l(r){e=v(r,"FIGURE",{class:!0});var c=I(e);for(let o=0;o<t.length;o+=1)t[o].l(c);c.forEach(m),this.h()},h(){p(e,"class","flex flex-wrap"),T(e,"blur-2xl",i[3].some(s)&&i[2])},m(r,c){E(r,e,c);for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(e,null)},p(r,c){if(i=r,c&2){l=i[12].output;let o;for(o=0;o<l.length;o+=1){const g=P(i,l,o);t[o]?t[o].p(g,c):(t[o]=V(g),t[o].c(),t[o].m(e,null))}for(;o<t.length;o+=1)t[o].d(1);t.length=l.length}c&30&&T(e,"blur-2xl",i[3].some(s)&&i[2])},d(r){r&&m(e),D(t,r)}}}function Q(i){let e,l;function t(...s){return i[8](i[12],...s)}return{c(){e=k("img"),this.h()},l(s){e=v(s,"IMG",{src:!0,alt:!0}),this.h()},h(){var s;G(e.src,l=(s=i[12].output)==null?void 0:s.at(0))||p(e,"src",l),p(e,"alt","AI Generated"),T(e,"blur-2xl",i[3].some(t))},m(s,r){E(s,e,r)},p(s,r){var c;i=s,r&2&&!G(e.src,l=(c=i[12].output)==null?void 0:c.at(0))&&p(e,"src",l),r&26&&T(e,"blur-2xl",i[3].some(t))},d(s){s&&m(e)}}}function V(i){let e,l;return{c(){e=k("img"),this.h()},l(t){e=v(t,"IMG",{src:!0,class:!0,alt:!0}),this.h()},h(){G(e.src,l=i[15])||p(e,"src",l),p(e,"class","w-1/2"),p(e,"alt","AI Generated")},m(t,s){E(t,e,s)},p(t,s){s&2&&!G(e.src,l=t[15])&&p(e,"src",l)},d(t){t&&m(e)}}}function j(i){var t;let e,l=i[12].status==="succeeded"&&i[12].source==="api"&&((t=i[12].input)==null?void 0:t.max_train_steps)!==2e3&&S(i);return{c(){l&&l.c(),e=U()},l(s){l&&l.l(s),e=U()},m(s,r){l&&l.m(s,r),E(s,e,r)},p(s,r){var c;s[12].status==="succeeded"&&s[12].source==="api"&&((c=s[12].input)==null?void 0:c.max_train_steps)!==2e3?l?l.p(s,r):(l=S(s),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(s){l&&l.d(s),s&&m(e)}}}function B(i){let e,l,t,s;return{c(){e=k("button"),l=H("Load more"),this.h()},l(r){e=v(r,"BUTTON",{class:!0});var c=I(e);l=O(c,"Load more"),c.forEach(m),this.h()},h(){p(e,"class","btn")},m(r,c){E(r,e,c),w(e,l),t||(s=C(e,"click",i[5]),t=!0)},p:N,d(r){r&&m(e),t=!1,s()}}}function X(i){let e,l;return{c(){e=k("img"),this.h()},l(t){e=v(t,"IMG",{src:!0}),this.h()},h(){G(e.src,l="//cdn.betterttv.net/emote/5fa99424eca18f6455c2bca5/3x")||p(e,"src",l)},m(t,s){E(t,e,s)},d(t){t&&m(e)}}}function Y(i){let e,l;return{c(){e=k("img"),this.h()},l(t){e=v(t,"IMG",{src:!0}),this.h()},h(){G(e.src,l="//cdn.7tv.app/emote/6346e1b78cb0dce8e422b05a/4x.webp")||p(e,"src",l)},m(t,s){E(t,e,s)},d(t){t&&m(e)}}}function Z(i){let e,l,t,s,r,c,o,g=i[1],f=[];for(let n=0;n<g.length;n+=1)f[n]=j(q(i,g,n));let _=i[0]&&B(i);function b(n,a){return n[2]?Y:X}let d=b(i),h=d(i);return{c(){e=k("div"),l=k("main");for(let n=0;n<f.length;n+=1)f[n].c();t=M(),_&&_.c(),s=M(),r=k("button"),h.c(),this.h()},l(n){e=v(n,"DIV",{class:!0});var a=I(e);l=v(a,"MAIN",{class:!0});var u=I(l);for(let A=0;A<f.length;A+=1)f[A].l(u);u.forEach(m),t=L(a),_&&_.l(a),a.forEach(m),s=L(n),r=v(n,"BUTTON",{class:!0});var y=I(r);h.l(y),y.forEach(m),this.h()},h(){p(l,"class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 mt-5 gap-4"),p(e,"class","flex flex-col gap-2"),p(r,"class","fixed rounded-full bg-primary w-20 h-20 p-4 bottom-4 right-8")},m(n,a){E(n,e,a),w(e,l);for(let u=0;u<f.length;u+=1)f[u]&&f[u].m(l,null);w(e,t),_&&_.m(e,null),E(n,s,a),E(n,r,a),h.m(r,null),c||(o=[C(window,"scroll",i[6]),C(r,"click",i[10])],c=!0)},p(n,[a]){if(a&30){g=n[1];let u;for(u=0;u<g.length;u+=1){const y=q(n,g,u);f[u]?f[u].p(y,a):(f[u]=j(y),f[u].c(),f[u].m(l,null))}for(;u<f.length;u+=1)f[u].d(1);f.length=g.length}n[0]?_?_.p(n,a):(_=B(n),_.c(),_.m(e,null)):_&&(_.d(1),_=null),d!==(d=b(n))&&(h.d(1),h=d(n),h&&(h.c(),h.m(r,null)))},i:N,o:N,d(n){n&&m(e),D(f,n),_&&_.d(),n&&m(s),n&&m(r),h.d(),c=!1,R(o)}}}function $(i,e,l){let{data:t}=e,s=t.predictions.next||"",r=t.predictions.results,c=!1,o=!0;const g=["ass","breast","penis","busty","lingerie","topless","bikini","trap","femboy","pussy","butt","busty","bussy","dildo","anal","sex","futa","cock","dick","nude","bra","naked","nipples"],f=a=>{var u;return a!=null&&a.positive_prompt?a.positive_prompt:(u=a==null?void 0:a.prompt)==null?void 0:u.replace("mdjrny-v4 style","")},_=async()=>{const u=await(await fetch(`/api/predictions?cursor=${s.split("=")[1]}`)).json();l(0,s=u.next),l(1,r=[...r,...u.results])},b=a=>{a.target.scrollingElement.scrollHeight-a.target.scrollingElement.clientHeight-a.target.scrollingElement.scrollTop<=1e3?(!c&&s&&_(),c=!0):c=!1},d=(a,u)=>{var y;return(y=f(a.input))==null?void 0:y.toLowerCase().includes(u)},h=(a,u)=>{var y;return(y=f(a.input))==null?void 0:y.toLowerCase().includes(u)},n=()=>l(2,o=!o);return i.$$set=a=>{"data"in a&&l(7,t=a.data)},[s,r,o,g,f,_,b,t,d,h,n]}class ee extends W{constructor(e){super(),F(this,e,$,Z,K,{data:7})}}export{ee as component};
